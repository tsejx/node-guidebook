(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{211:function(t,s,a){t.exports=a.p+"assets/img/ipc-creation-and-realization.ed5e9209.jpg"},212:function(t,s,a){t.exports=a.p+"assets/img/ipc-pipe-creation.0dd7be0b.jpg"},213:function(t,s,a){t.exports=a.p+"assets/img/master-process-send-request-to-worker.d2fd2e13.jpg"},214:function(t,s,a){t.exports=a.p+"assets/img/master-send-handler-and-close-listen.9073d403.jpg"},215:function(t,s,a){t.exports=a.p+"assets/img/ipc-handle-send-and-parse.2766b90a.jpg"},254:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"è¿›ç¨‹é—´é€šä¿¡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¿›ç¨‹é—´é€šä¿¡"}},[t._v("#")]),t._v(" è¿›ç¨‹é—´é€šä¿¡")]),t._v(" "),n("ol",[n("li",[t._v("ä»€ä¹ˆæ˜¯ IPC é€šä¿¡ï¼Ÿ")]),t._v(" "),n("li",[t._v("å¦‚ä½•å»ºç«‹ IPC é€šä¿¡ï¼Ÿ")]),t._v(" "),n("li",[t._v("ä»€ä¹ˆåœºæ™¯ä¸‹éœ€è¦ç”¨åˆ° IPC é€šä¿¡ï¼Ÿ")])]),t._v(" "),n("h2",{attrs:{id:"æ¦‚å¿µ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¦‚å¿µ"}},[t._v("#")]),t._v(" æ¦‚å¿µ")]),t._v(" "),n("p",[t._v("IPCï¼ˆInter-process communicationï¼‰ï¼Œå³è¿›ç¨‹é—´é€šä¿¡æŠ€æœ¯ï¼Œç”±äºæ¯ä¸ªè¿›ç¨‹åˆ›å»ºä¹‹åéƒ½æœ‰è‡ªå·±çš„ç‹¬ç«‹åœ°å€ç©ºé—´ï¼Œå®ç° IPC çš„ç›®çš„å°±æ˜¯ä¸ºäº†è¿›ç¨‹ä¹‹é—´èµ„æºå…±äº«è®¿é—®ã€‚")]),t._v(" "),n("p",[t._v("æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹é—´é€šä¿¡æ–¹å¼ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("å…±äº«å†…å­˜")]),t._v("ï¼šä¸åŒè¿›ç¨‹å…±äº«åŒä¸€æ®µå†…å­˜ç©ºé—´ã€‚é€šå¸¸è¿˜éœ€è¦å¼•å…¥ä¿¡å·é‡æœºåˆ¶ï¼Œæ¥å®ç°åŒæ­¥å’Œäº’æ–¥ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("æ¶ˆæ¯ä¼ é€’")]),t._v("ï¼šè¿™ç§æ¨¡å¼ä¸‹ï¼Œè¿›ç¨‹é—´é€šè¿‡å‘é€ã€æ¥æ”¶æ¶ˆæ¯æ¥å®ç°ä¿¡æ¯çš„åŒæ­¥ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("ä¿¡å·é‡")]),t._v("ï¼šä¿¡å·é‡ç®€å•è¯´å°±æ˜¯ç³»ç»Ÿèµ‹äºˆè¿›ç¨‹çš„ä¸€ä¸ªçŠ¶æ€å€¼ï¼Œæœªå¾—åˆ°æ§åˆ¶æƒçš„è¿›ç¨‹ä¼šåœ¨ç‰¹å®šåœ°æ–¹è¢«è¿«åœä¸‹æ¥ï¼Œç­‰å¾…å¯ä»¥ç»§ç»­è¿›è¡Œçš„ä¿¡å·åˆ°æ¥ã€‚å¦‚æœä¿¡å·é‡åªæœ‰ 0 æˆ–è€… 1 ä¸¤ä¸ªå€¼çš„è¯ï¼Œåˆè¢«ç§°ä½œã€Œäº’æ–¥é”ã€ã€‚è¿™ä¸ªæœºåˆ¶ä¹Ÿè¢«å¹¿æ³›ç”¨äºå„ç§ç¼–ç¨‹æ¨¡å¼ä¸­ã€‚")]),t._v(" "),n("li",[n("strong",[t._v("ç®¡é“")]),t._v("ï¼šç®¡é“æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œå®ƒç”¨äºè¿æ¥ä¸¤ä¸ªè¿›ç¨‹ï¼Œå°†ä¸€ä¸ªè¿›ç¨‹çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªè¿›ç¨‹çš„è¾“å…¥ã€‚å¯ä»¥ç”¨ pipe ç³»ç»Ÿè°ƒç”¨æ¥åˆ›å»ºç®¡é“ã€‚æˆ‘ä»¬è¿›ç¨‹ç”¨çš„ "),n("code",[t._v("|")]),t._v(" å‘½ä»¤è¡Œå°±æ˜¯åˆ©ç”¨ç®¡é“æœºåˆ¶ã€‚")])]),t._v(" "),n("h2",{attrs:{id:"å®ç°åŸç†"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°åŸç†"}},[t._v("#")]),t._v(" å®ç°åŸç†")]),t._v(" "),n("p",[t._v("Node.js ä¸­å®ç° IPC é€šé“çš„æ˜¯ç®¡é“ï¼ˆpipeï¼‰æŠ€æœ¯ã€‚ä½†æ­¤ç®¡é“å¹¶éå½¼ç®¡é“ï¼Œåœ¨ Node.js ä¸­ç®¡é“æ˜¯ä¸ªæŠ½è±¡å±‚é¢çš„ç§°å‘¼ï¼Œå…·ä½“ç»†èŠ‚å®ç°ç”± libuv æä¾›ï¼Œåœ¨ Windows ä¸‹ç”±å‘½åç®¡é“ï¼ˆnamed pipeï¼‰å®ç°ï¼Œ*nix ç³»ç»Ÿåˆ™é‡‡ç”¨ Unix Domain Socket å®ç°ã€‚è¡¨ç°åœ¨åº”ç”¨å±‚ä¸Šçš„è¿›ç¨‹é—´é€šä¿¡åªæœ‰ç®€å•çš„ "),n("code",[t._v("message")]),t._v(" äº‹ä»¶å’Œ "),n("code",[t._v("send()")]),t._v(" æ–¹æ³•ï¼Œæ¥å£ååˆ†ç®€æ´å’Œæ¶ˆæ¯åŒ–ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(211),alt:"IPCåˆ›å»ºå’Œå®ç°ç¤ºæ„å›¾"}})]),t._v(" "),n("p",[t._v("çˆ¶è¿›ç¨‹åœ¨å®é™…åˆ›å»ºå­è¿›ç¨‹ä¹‹å‰ï¼Œä¼šåˆ›å»º IPC é€šé“å¹¶ç›‘å¬å®ƒï¼Œç„¶åæ‰çœŸæ­£åˆ›å»ºå‡ºå­è¿›ç¨‹ï¼Œå¹¶é€šè¿‡ç¯å¢ƒå˜é‡ï¼ˆNODE_CHANNEL_FDï¼‰å‘Šè¯‰å­è¿›ç¨‹è¿™ä¸ª IPC é€šé“çš„æ–‡ä»¶æè¿°ç¬¦ã€‚å­è¿›ç¨‹åœ¨å¯åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®æ–‡ä»¶æè¿°ç¬¦å»è¿æ¥è¿™ä¸ªå·²å­˜åœ¨çš„ IPC é€šé“ï¼Œä»è€Œå®Œæˆçˆ¶å­è¿›ç¨‹ä¹‹é—´çš„è¿æ¥ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(212),alt:"åˆ›å»º IPC ç®¡é“çš„æ­¥éª¤ç¤ºæ„å›¾"}})]),t._v(" "),n("p",[t._v("å»ºç«‹è¿æ¥ä¹‹åçš„çˆ¶å­è¿›ç¨‹å°±å¯ä»¥è‡ªç”±åœ°é€šä¿¡äº†ã€‚ç”±äº IPC é€šé“æ˜¯ç”¨æ˜æ˜ç®¡é“æˆ– Domain SOcket åˆ›å»ºçš„ï¼Œå®ƒä»¬ä¸ç½‘ç»œ socket çš„è¡Œä¸ºæ¯”è¾ƒç±»ä¼¼ï¼Œå±äºåŒå‘é€šä¿¡ã€‚ä¸åŒçš„æ˜¯å®ƒä»¬åœ¨ç³»ç»Ÿå†…æ ¸ä¸­å°±å®Œæˆäº†è¿›ç¨‹é—´çš„é€šä¿¡ï¼Œè€Œä¸åŒç»è¿‡å®é™…çš„ç½‘ç»œå±‚ï¼Œéå¸¸é«˜æ•ˆã€‚åœ¨ Node ä¸­ï¼ŒIPC é€šé“è¢«æŠ½è±¡ä¸º Stream å¯¹è±¡ï¼Œåœ¨è°ƒç”¨ "),n("code",[t._v("send()")]),t._v(" æ—¶å‘é€æ•°æ®ï¼ˆç±»ä¼¼äº "),n("code",[t._v("write()")]),t._v("ï¼‰æ¥æ”¶åˆ°çš„æ¶ˆæ¯ä¼šé€šè¿‡ "),n("code",[t._v("message")]),t._v(" äº‹ä»¶ï¼ˆç±»ä¼¼äº "),n("code",[t._v("data")]),t._v("ï¼‰è§¦å‘ç»™åº”ç”¨å±‚ã€‚")]),t._v(" "),n("blockquote",[n("p",[t._v("âš ï¸ æ³¨æ„ï¼šåªæœ‰å¯åŠ¨çš„å­è¿›ç¨‹æ˜¯ Node è¿›ç¨‹æ—¶ï¼Œå­è¿›ç¨‹æ‰ä¼šæ ¹æ®ç¯å¢ƒå˜é‡å»è¿æ¥ IPC é€šé“ï¼Œå¯¹äºå…¶ä»–ç±»å‹çš„å­è¿›ç¨‹åˆ™æ— æ³•å®ç°è¿›ç¨‹é—´é€šä¿¡ï¼Œé™¤éå…¶ä»–è¿›ç¨‹ä¹ŸæŒ‰çº¦å®šå»è¿æ¥è¿™ä¸ªå·²ç»åˆ›å»ºå¥½çš„ IPC é€šä¿¡ã€‚")])]),t._v(" "),n("h2",{attrs:{id:"å¥æŸ„ä¼ é€’"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¥æŸ„ä¼ é€’"}},[t._v("#")]),t._v(" å¥æŸ„ä¼ é€’")]),t._v(" "),n("p",[t._v("é€šè¿‡ä»£ç†ï¼Œå¯ä»¥é¿å…çˆ¶å­è¿›ç¨‹ä¸èƒ½é‡å¤ç›‘å¬ç›¸åŒç«¯å£çš„é—®é¢˜ï¼Œç”šè‡³å¯ä»¥åœ¨ä»£ç†è¿›ç¨‹ä¸Šåšé€‚å½“çš„è´Ÿè½½å‡è¡¡ï¼Œä½¿å¾—æ¯ä¸ªå­è¿›ç¨‹å¯ä»¥è¾ƒä¸ºå‡è¡¡åœ°æ‰§è¡Œä»»åŠ¡ã€‚ç”±äºè¿›ç¨‹æ¯æ¥æ”¶åˆ°ä¸€ä¸ªè¿æ¥ï¼Œå°†ä¼šç”¨æ‰ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå› æ­¤ä»£ç†æ–¹æ¡ˆä¸­å®¢æˆ·ç«¯è¿æ¥åˆ°ä»£ç†è¿›ç¨‹ï¼Œä»£ç†è¿›ç¨‹è¿æ¥åˆ°å·¥ä½œè¿›ç¨‹çš„è¿‡ç¨‹éœ€è¦ç”¨æ‰ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ã€‚æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶æè¿°ç¬¦æ˜¯æœ‰é™çš„ï¼Œä»£ç†æ–¹æ¡ˆæµªè´¹æ‰ä¸€å€æ•°é‡çš„æ–‡ä»¶æè¿°ç¬¦çš„åšæ³•å½±å“äº†ç³»ç»Ÿçš„æ‰©å±•èƒ½åŠ›ã€‚")]),t._v(" "),n("p",[t._v("ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒNode åœ¨ç‰ˆæœ¬ v0.5.9 å¼•å…¥äº†è¿›ç¨‹é—´å‘é€å¥æŸ„çš„åŠŸèƒ½ã€‚"),n("code",[t._v("send()")]),t._v(" æ–¹æ³•é™¤äº†èƒ½é€šè¿‡ IPC å‘é€æ•°æ®å¤–ï¼Œè¿˜èƒ½å‘é€å¥æŸ„ï¼Œç¬¬äºŒä¸ªå¯é€‰å‚æ•°å°±æ˜¯å¥æŸ„ã€‚")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("child.send(message, [sendHandle])\n")])])]),n("p",[t._v("å¥æŸ„æ˜¯ä¸€ç§å¯ä»¥ç”¨æ¥æ ‡è¯†èµ„æºçš„å¼•ç”¨ï¼Œå®ƒçš„å†…éƒ¨åŒ…å«äº†æŒ‡å‘å¯¹è±¡çš„æ–‡ä»¶æè¿°ç¬¦ã€‚æ¯”å¦‚å¥æŸ„å¯ä»¥ç”¨æ¥æ ‡è¯†ä¸€ä¸ªæœåŠ¡ç«¯ socket å¯¹è±¡ã€ä¸€ä¸ªå®¢æˆ·ç«¯ socket å¯¹è±¡ã€ä¸€ä¸ª UDP å¥—æ¥å­—ã€ä¸€ä¸ªç®¡é“ç­‰ã€‚")]),t._v(" "),n("p",[t._v("å‘é€å¥æŸ„æ„å‘³ç€ä»€ä¹ˆæˆ‘ä»¬å¯ä»¥å»æ‰ä»£ç†çš„æ–¹æ¡ˆï¼Œä½¿ä¸»è¿›ç¨‹æ”¶åˆ° socket è¯·æ±‚åï¼Œå°†è¿™ä¸ª socket ç›´æ¥å‘é€ç»™å¯¹åº”çš„å·¥ä½œè¿›ç¨‹ï¼Œè€Œä¸æ˜¯é‡æ–°ä¸å·¥ä½œè¿›ç¨‹ä¹‹é—´å»ºç«‹æ–°çš„ socket è¿æ¥æ¥è½¬å‘æ•°æ®ã€‚æ–‡ä»¶æè¿°ç¬¦æµªè´¹çš„é—®é¢˜å¯ä»¥é€šè¿‡è¿™æ ·çš„æ–¹å¼è½»æ¾è§£å†³ã€‚")]),t._v(" "),n("p",[t._v("è€Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†ä¸»è¿›ç¨‹æ›´è½»é‡åŒ–ï¼Œé€šè¿‡å°†ä¸»è¿›ç¨‹çš„æœåŠ¡å™¨å¥æŸ„å‘é€ç»™å­è¿›ç¨‹åï¼Œå…³é—­æœåŠ¡å™¨çš„ç›‘å¬ï¼Œè®©å­è¿›ç¨‹æ¥å¤„ç†è¯·æ±‚ã€‚")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// master")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" childProcess "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child_process'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" child1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" childProcess"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'worker1.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" child2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" childProcess"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'worker2.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'net'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nserver"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1337")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  child1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'server'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  child2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'server'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é—­æœåŠ¡å™¨ç›‘å¬")]),t._v("\n  server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// worker")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" http "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("reuqire")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" http"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("createServer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeHead")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Content-Type'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'text/plain'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Handled by child, pid is '")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pid "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nprocess"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("m"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tcp")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'server'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    tcp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'connection'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("socket")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'connection'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" socket"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("strong",[t._v("ä¸»è¿›ç¨‹å°†è¯·æ±‚å‘é€ç»™å·¥ä½œè¿›ç¨‹")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(213),alt:"ä¸»è¿›ç¨‹å°†è¯·æ±‚å‘é€ç»™å·¥ä½œè¿›ç¨‹"}})]),t._v(" "),n("p",[n("strong",[t._v("ä¸»è¿›ç¨‹å‘é€å®Œå¥æŸ„å¹¶å…³é—­ç›‘å¬åçš„ç»“æ„")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(214),alt:"ä¸»è¿›ç¨‹å‘é€å®Œå¥æŸ„å¹¶å…³é—­ç›‘å¬åçš„ç»“æ„"}})]),t._v(" "),n("h3",{attrs:{id:"å¥æŸ„å‘é€ä¸è¿˜åŸ"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å¥æŸ„å‘é€ä¸è¿˜åŸ"}},[t._v("#")]),t._v(" å¥æŸ„å‘é€ä¸è¿˜åŸ")]),t._v(" "),n("p",[t._v("ä»”ç»†çœ‹ä¸Šæ–‡ä»‹ç»çš„å¥æŸ„å‘é€ï¼Œå…¶å®å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªç–‘é—®ï¼š")]),t._v(" "),n("ul",[n("li",[t._v("å¥æŸ„å‘é€ä¸æˆ‘ä»¬ç›´æ¥å°†æœåŠ¡å™¨å¯¹è±¡å‘é€ç»™å­è¿›ç¨‹æœ‰æ²¡æœ‰å·®åˆ«ï¼Ÿ")]),t._v(" "),n("li",[t._v("å®ƒæ˜¯å¦çœŸçš„å°†æœåŠ¡å™¨å¯¹è±¡å‘é€ç»™äº†å­è¿›ç¨‹ï¼Ÿ")]),t._v(" "),n("li",[t._v("ä¸ºä»€ä¹ˆå®ƒå¯ä»¥å‘é€åˆ°å¤šä¸ªå­è¿›ç¨‹ä¸­ï¼Ÿ")]),t._v(" "),n("li",[t._v("å‘é€ç»™å­è¿›ç¨‹ä¸ºä»€ä¹ˆçˆ¶è¿›ç¨‹ä¸­è¿˜å­˜åœ¨è¿™ä¸ªå¯¹è±¡ï¼Ÿ")])]),t._v(" "),n("p",[t._v("ç›®å‰å­è¿›ç¨‹å¯¹è±¡ "),n("code",[t._v("send()")]),t._v(" æ–¹æ³•å¯ä»¥å‘é€çš„å¥æŸ„ç±»å‹åŒ…æ‹¬å¦‚ä¸‹å‡ ç§ï¼š")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("net.Socket")]),t._v("ï¼šTCP å¥—æ¥å­—")]),t._v(" "),n("li",[n("code",[t._v("net.Server")]),t._v("ï¼šTCP æœåŠ¡å™¨ï¼Œä»»æ„å»ºç«‹åœ¨ TCP æœåŠ¡ä¸Šçš„åº”ç”¨å±‚æœåŠ¡éƒ½å¯ä»¥äº«å—åˆ°å®ƒå¸¦æ¥çš„å¥½å¤„")]),t._v(" "),n("li",[n("code",[t._v("net.Native")]),t._v("ï¼šC++ å±‚é¢çš„ TCP å¥—æ¥å­—æˆ– IPC ç®¡é“")]),t._v(" "),n("li",[n("code",[t._v("dgram.Socket")]),t._v("ï¼šUDP å¥—æ¥å­—")]),t._v(" "),n("li",[n("code",[t._v("dgram.Native")]),t._v("ï¼šC++ å±‚é¢çš„ UDP å¥—æ¥å­—")])]),t._v(" "),n("p",[n("code",[t._v("send()")]),t._v(" æ–¹æ³•åœ¨å°†æ¶ˆæ¯å‘é€åˆ° IPC ç®¡é“å‰ï¼Œå°†æ¶ˆæ¯ç»„è£…æˆä¸¤ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªå‚æ•°æ˜¯ handleï¼Œå¦ä¸€ä¸ªæ˜¯ messageã€‚message å‚æ•°å¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cmd"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NODE_HANDLE'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'net.Server'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  msg"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" message\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("å‘é€åˆ° IPC ç®¡é“ä¸­çš„å®é™…ä¸Šæ˜¯æˆ‘ä»¬è¦å‘é€çš„å¥æŸ„æ–‡ä»¶æè¿°ç¬¦ï¼Œæ–‡ä»¶æè¿°ç¬¦å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ•´æ•°å€¼ã€‚è¿™ä¸ª message å¯¹è±¡åœ¨å†™å…¥ IPC ç®¡é“æ—¶ä¹Ÿä¼šé€šè¿‡ "),n("code",[t._v("JSON.stringify()")]),t._v(" è¿›è¡Œåºåˆ—åŒ–ã€‚æ‰€ä»¥æœ€ç»ˆå‘é€åˆ° IPC é€šé“ä¸­çš„ä¿¡æ¯éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œ"),n("code",[t._v("send()")]),t._v(" æ–¹æ³•èƒ½å‘é€æ¶ˆæ¯å’Œå¥æŸ„å¹¶ä¸æ„å‘³ç€å®ƒèƒ½å‘é€ä»»æ„å¯¹è±¡ã€‚")]),t._v(" "),n("p",[t._v("è¿æ¥äº† IPC é€šé“çš„å­è¿›ç¨‹å¯ä»¥è¯»å–åˆ°çˆ¶è¿›ç¨‹å‘æ¥çš„æ¶ˆæ¯ï¼Œå°†å­—ç¬¦ä¸²é€šè¿‡ "),n("code",[t._v("JSON.parse()")]),t._v(" è§£æè¿˜åŸä¸ºå¯¹è±¡åï¼Œæ‰è§¦å‘ "),n("code",[t._v("message")]),t._v(" äº‹ä»¶å°†æ¶ˆæ¯ä½“ä¼ é€’ç»™åº”ç”¨å±‚ä½¿ç”¨ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ¶ˆæ¯å¯¹è±¡è¿˜è¦è¢«è¿›è¡Œè¿‡æ»¤å¤„ç†ï¼Œ"),n("code",[t._v("message.cmd")]),t._v(" çš„å€¼å¦‚æœä»¥ "),n("code",[t._v("NODE_")]),t._v(" ä¸ºå‰ç¼€ï¼Œå®ƒå°†å“åº”ä¸€ä¸ªå†…éƒ¨äº‹ä»¶ "),n("code",[t._v("internalMessage")]),t._v("ã€‚å¦‚æœ "),n("code",[t._v("message.cmd")]),t._v(" å€¼ä¸º "),n("code",[t._v("NODE_HANDLE")]),t._v("ï¼Œå®ƒå°†å–å‡º "),n("code",[t._v("message.type")]),t._v(" å€¼å’Œå¾—åˆ°çš„æ–‡ä»¶æè¿°ç¬¦ä¸€èµ·è¿˜åŸå‡ºä¸€ä¸ªå¯¹åº”çš„å¯¹è±¡ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:a(215),alt:"å¥æŸ„çš„å‘é€ä¸è¿˜åŸç¤ºæ„å›¾"}})]),t._v(" "),n("p",[t._v("ä»¥å‘é€ TCP æœåŠ¡å™¨å¥æŸ„ä¸ºä¾‹ï¼Œå­è¿›ç¨‹æ”¶åˆ°æ¶ˆæ¯åçš„è¿˜åŸè¿‡ç¨‹å¦‚ä¸‹ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" emit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" self "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("net"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Server")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("handle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("server"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("å­è¿›ç¨‹æ ¹æ® "),n("code",[t._v("message.type")]),t._v(" åˆ›å»ºå¯¹åº” TCP æœåŠ¡å™¨å¯¹è±¡ï¼Œç„¶åç›‘å¬åˆ°æ–‡ä»¶æè¿°ç¬¦ä¸Šã€‚ç”±äºåº•å±‚ç»†èŠ‚ä¸è¢«åº”ç”¨å±‚æ„ŸçŸ¥ï¼Œæ‰€ä»¥åœ¨å­è¿›ç¨‹ä¸­ï¼Œå¼€å‘è€…ä¼šæœ‰ä¸€ç§æœåŠ¡å™¨å°±æ˜¯ä»çˆ¶è¿›ç¨‹ä¸­ç›´æ¥ä¼ é€’è¿‡æ¥çš„é”™è§‰ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒNode.js è¿›ç¨‹ä¹‹é—´åªæœ‰æ¶ˆæ¯ä¼ é€’ï¼Œä¸ä¼šçœŸæ­£åœ°ä¼ é€’å¯¹è±¡ï¼Œè¿™ç§é”™è§‰æ˜¯æŠ½è±¡å°è£…çš„ç»“æœã€‚")]),t._v(" "),n("p",[t._v("ç›®å‰ Node åªæ”¯æŒä¸Šè¿°æåˆ°çš„å‡ ç§å¥æŸ„ï¼Œå¹¶éä»»æ„ç±»å‹çš„å¥æŸ„éƒ½èƒ½åœ¨è¿›ç¨‹ä¹‹é—´ä¼ é€’ï¼Œé™¤éå®ƒæœ‰å®Œæ•´çš„å‘é€å’Œè¿˜åŸçš„è¿‡ç¨‹ã€‚")]),t._v(" "),n("h3",{attrs:{id:"ç«¯å£å…±åŒç›‘å¬"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç«¯å£å…±åŒç›‘å¬"}},[t._v("#")]),t._v(" ç«¯å£å…±åŒç›‘å¬")]),t._v(" "),n("p",[t._v("äº†è§£å¥æŸ„ä¼ é€’èƒŒåçš„åŸç†åï¼Œæˆ‘ä»¬æ¢ç©¶ä¸ºä½•é€šè¿‡å‘é€å¥æŸ„åï¼Œå¤šä¸ªè¿›ç¨‹å¯ä»¥ç›‘å¬åˆ°ç›¸åŒçš„ç«¯å£è€Œä¸å¼•èµ· "),n("code",[t._v("EDDRINUSE")]),t._v(" å¼‚å¸¸ã€‚å…¶å®ç­”æ¡ˆå¾ˆç®€å•ï¼Œæˆ‘ä»¬ç‹¬ç«‹å¯åŠ¨çš„è¿›ç¨‹ä¸­ï¼ŒTCP æœåŠ¡å™¨ç«¯ socket å¥—æ¥å­—çš„æ–‡ä»¶æè¿°ç¬¦å¹¶ä¸ç›¸åŒï¼Œå¯¼è‡´ç›‘å¬åˆ°ç›¸åŒçš„ç«¯å£æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚")]),t._v(" "),n("p",[t._v("Node åº•å±‚å¯¹æ¯ä¸ªç«¯å£ç›‘å¬éƒ½è®¾ç½®äº† "),n("code",[t._v("SO_REUSEADDR")]),t._v(" é€‰é¡¹ï¼Œè¿™ä¸ªé€‰é¡¹çš„å«ä¹‰æ˜¯ä¸åŒè¿›ç¨‹å¯ä»¥å°±ç›¸åŒçš„ç½‘å¡å’Œç«¯å£è¿›è¡Œç›‘å¬ï¼Œè¿™ä¸ªæœåŠ¡å™¨ç«¯å¥—æ¥å­—å¯ä»¥è¢«ä¸åŒçš„è¿›ç¨‹å¤ç”¨ã€‚")]),t._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setsockopt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tcp"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),t._v("op_watcher"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" SOL_SOCKET"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" SO_REUSEADDR"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sizeof")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("on"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("ç”±äºç‹¬ç«‹å¯åŠ¨çš„è¿›ç¨‹äº’ç›¸ä¹‹é—´å¹¶ä¸çŸ¥é“æ–‡ä»¶æè¿°ç¬¦ï¼Œæ‰€ä»¥ç›‘å¬ç›¸åŒç«¯å£å°±ä¼šå¤±è´¥ã€‚ä½†å¯¹äº "),n("code",[t._v("send()")]),t._v(" å‘é€çš„å¥æŸ„è¿˜åŸå‡ºæ¥çš„æœåŠ¡è€Œè¨€ï¼Œå®ƒä»¬çš„æ–‡ä»¶æè¿°ç¬¦æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥ç›‘å¬ç›¸åŒç«¯å£ä¸ä¼šå¼•èµ·å¼‚å¸¸ã€‚")]),t._v(" "),n("p",[t._v("å¤šä¸ªåº”ç”¨ç›‘å¬ç›¸åŒç«¯å£æ—¶ï¼Œæ–‡ä»¶æè¿°ç¬¦åŒä¸€æ—¶é—´åªèƒ½è¢«æŸä¸ªè¿›ç¨‹æ‰€ç”¨ã€‚æ¢è¨€ä¹‹å°±æ˜¯ç½‘ç»œè¯·æ±‚å‘æœåŠ¡å™¨ç«¯å‘é€æ—¶ï¼Œåªæœ‰ä¸€ä¸ªå¹¸è¿çš„è¿›ç¨‹èƒ½å¤ŸæŠ¢åˆ°è¿æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰å®ƒèƒ½ä¸ºè¿™ä¸ªè¯·æ±‚è¿›è¡ŒæœåŠ¡ã€‚è¿™äº›è¿›ç¨‹æœåŠ¡æ˜¯æŠ¢å å¼çš„ã€‚")]),t._v(" "),n("h2",{attrs:{id:"å…¶ä»–æ–¹å¼å®ç°è¿›ç¨‹é—´é€šä¿¡"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å…¶ä»–æ–¹å¼å®ç°è¿›ç¨‹é—´é€šä¿¡"}},[t._v("#")]),t._v(" å…¶ä»–æ–¹å¼å®ç°è¿›ç¨‹é—´é€šä¿¡")]),t._v(" "),n("p",[t._v("é™¤äº†é€šè¿‡ Node å†…ç½®çš„ IPC æœºåˆ¶å®ç°è¿›ç¨‹é—´é€šä¿¡å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ stdin/stdoutã€socketsã€æ¶ˆæ¯é˜Ÿåˆ—å’Œ Redis ç­‰æ–¹å¼å®ç°è¿›ç¨‹é—´é€šä¿¡ã€‚")]),t._v(" "),n("h3",{attrs:{id:"stdin-stdout"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#stdin-stdout"}},[t._v("#")]),t._v(" stdin/stdout")]),t._v(" "),n("p",[t._v("æœ€ç›´æ¥çš„é€šä¿¡æ–¹å¼ï¼Œå–å¾—å­è¿›ç¨‹çš„å¥æŸ„åï¼Œå¯ä»¥è®¿é—®å…¶ stdio æµï¼Œé€šè¿‡çº¦å®š message æ ¼å¼è¿›è¡Œé€šä¿¡ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" spawn "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child_process'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" child "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("spawn")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./worker.js'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nchild"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setEncoding")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'utf8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// çˆ¶è¿›ç¨‹å‘é€æ¶ˆæ¯")]),t._v("\nchild"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'handshake'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    payload"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello world!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// çˆ¶è¿›ç¨‹æ¥æ”¶æ¶ˆæ¯")]),t._v("\nchild"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("chunk")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chunk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" message "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v(" ")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("payload"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("å­è¿›ç¨‹ä¸ä¹‹ç±»ä¼¼ï¼š")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ./worker.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­è¿›ç¨‹æ¥æ”¶")]),t._v("\nprocess"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'data'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("chunk")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chunk"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" message "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'handshake'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å­è¿›ç¨‹å‘é€")]),t._v("\n      process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("write")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          payload"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" message"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("payload "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' : HoHoHo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("VS Code è¿›ç¨‹é—´é€šä¿¡å°±é‡‡ç”¨è¿™ç§æ–¹å¼ã€‚æ˜æ˜¾çš„é™åˆ¶æ˜¯éœ€è¦å–å¾—å­è¿›ç¨‹çš„ handleï¼Œä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„è¿›ç¨‹ä¹‹é—´æ— æ³•é€šè¿‡è¿™ç§æ–¹å¼æ¥é€šä¿¡ï¼ˆæ¯”å¦‚è·¨åº”ç”¨ï¼Œç”šè‡³è·¨æœºå™¨çš„åœºæ™¯ï¼‰ã€‚")]),t._v(" "),n("h3",{attrs:{id:"sockets"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sockets"}},[t._v("#")]),t._v(" Sockets")]),t._v(" "),n("p",[t._v("å€ŸåŠ©ç½‘ç»œæ¥å®Œæˆè¿›ç¨‹é—´é€šä¿¡ï¼Œä¸ä»…èƒ½è·¨è¿›ç¨‹ï¼Œè¿˜èƒ½è·¨æœºå™¨ã€‚")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/RIAEvangelist/node-ipc",target:"_blank",rel:"noopener noreferrer"}},[t._v("node-ipc"),n("OutboundLink")],1),t._v(" å°±é‡‡ç”¨è¿™ç§æ–¹æ¡ˆï¼ŒæŸ¥çœ‹"),n("a",{attrs:{href:"https://github.com/RIAEvangelist/node-ipc/tree/master/example",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ›´å¤š node-ipc ç¤ºä¾‹"),n("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),n("p",[t._v("å½“ç„¶ï¼Œå•æœºåœºæ™¯ä¸‹é€šè¿‡ç½‘ç»œæ¥å®Œæˆè¿›ç¨‹é—´é€šä¿¡æœ‰äº›æµªè´¹æ€§èƒ½ï¼Œä½†ç½‘ç»œé€šä¿¡çš„ä¼˜åŠ¿åœ¨äºè·¨ç¯å¢ƒçš„å…¼å®¹æ€§ä¸æ›´è¿›ä¸€æ­¥çš„ RPC åœºæ™¯ã€‚")]),t._v(" "),n("h3",{attrs:{id:"æ¶ˆæ¯é˜Ÿåˆ—"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¶ˆæ¯é˜Ÿåˆ—"}},[t._v("#")]),t._v(" æ¶ˆæ¯é˜Ÿåˆ—")]),t._v(" "),n("p",[t._v("çˆ¶å­è¿›ç¨‹éƒ½é€šè¿‡å¤–éƒ¨æ¶ˆæ¯æœºåˆ¶æ¥é€šä¿¡ï¼Œè·¨è¿›ç¨‹çš„èƒ½åŠ›å–å†³äº MQ æ”¯æŒã€‚")]),t._v(" "),n("p",[t._v("å³è¿›ç¨‹é—´ä¸ç›´æ¥é€šä¿¡ï¼Œè€Œæ˜¯é€šè¿‡ä¸­é—´å±‚ï¼ˆMQï¼‰ï¼ŒåŠ ä¸€ä¸ªæ§åˆ¶å±‚å°±èƒ½è·å¾—æ›´å¤šçµæ´»æ€§å’Œä¼˜åŠ¿ï¼š")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("ç¨³å®šæ€§")]),t._v("ï¼šæ¶ˆæ¯æœºåˆ¶æä¾›äº†å¼ºå¤§çš„ç¨³å®šæ€§ä¿è¯ï¼Œæ¯”å¦‚ç¡®è®¤é€è¾¾ï¼ˆæ¶ˆæ¯å›æ‰§ ACKï¼‰ï¼Œå¤±è´¥é‡å‘ / é˜²æ­¢å¤šå‘ç­‰ç­‰")]),t._v(" "),n("li",[n("strong",[t._v("ä¼˜å…ˆçº§æ§åˆ¶")]),t._v("ï¼šå…è®¸è°ƒæ•´æ¶ˆæ¯å“åº”æ¬¡åº")]),t._v(" "),n("li",[n("strong",[t._v("ç¦»çº¿èƒ½åŠ›")]),t._v("ï¼šæ¶ˆæ¯å¯ä»¥è¢«ç¼“å­˜")]),t._v(" "),n("li",[n("strong",[t._v("äº‹åŠ¡æ€§æ¶ˆæ¯å¤„ç†")]),t._v("ï¼šæŠŠå…³è”æ¶ˆæ¯ç»„åˆæˆäº‹åŠ¡ï¼Œä¿è¯å…¶é€è¾¾é¡ºåºåŠå®Œæ•´æ€§")])]),t._v(" "),n("p",[t._v("æ¯”è¾ƒå—æ¬¢è¿çš„åº“æœ‰ "),n("a",{attrs:{href:"https://github.com/smrchy/rsmq",target:"_blank",rel:"noopener noreferrer"}},[t._v("smrchy/rsmq"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("ä¼šå¯ç”¨ä¸€ä¸ª Redis Serverï¼ŒåŸºæœ¬åŸç†å¦‚ä¸‹ï¼š")]),t._v(" "),n("blockquote",[n("p",[t._v("Using a shared Redis server multiple Node.js processes can send / receive messages.")])]),t._v(" "),n("p",[t._v("æ¶ˆæ¯çš„æ”¶/å‘/ç¼“å­˜/æŒä¹…åŒ–ä¾é  Redis æä¾›çš„èƒ½åŠ›ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå®ç°å®Œæ•´çš„é˜Ÿåˆ—æœºåˆ¶ã€‚")]),t._v(" "),n("h3",{attrs:{id:"redis"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[t._v("#")]),t._v(" Redis")]),t._v(" "),n("p",[t._v("åŸºæœ¬æ€è·¯ä¸æ¶ˆæ¯é˜Ÿåˆ—ç±»ä¼¼")]),t._v(" "),n("blockquote",[n("p",[t._v("Use Redis as a message bus/broker.")])]),t._v(" "),n("p",[t._v("Redis è‡ªå¸¦ Pub/Sub æœºåˆ¶ï¼ˆå³å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼‰ï¼Œé€‚ç”¨äºç®€å•çš„é€šä¿¡åœºæ™¯ï¼Œæ¯”å¦‚ä¸€å¯¹ä¸€æˆ–ä¸€å¯¹å¤šå¹¶ä¸”ä¸å…³æ³¨æ¶ˆæ¯å¯é æ€§çš„åœºæ™¯ã€‚")]),t._v(" "),n("p",[t._v("å¦å¤–ï¼ŒRedis æœ‰ list ç»“æ„ï¼Œå¯ä»¥ç”¨ä½œæ¶ˆæ¯é˜Ÿåˆ—ï¼Œä»¥æ­¤æé«˜æ¶ˆæ¯å¯é æ€§ã€‚ä¸€èˆ¬åšæ³•æ˜¯ç”Ÿäº§è€… LPUSH æ¶ˆæ¯ï¼Œæ¶ˆè´¹è€… BRPOP æ¶ˆæ¯ã€‚é€‚ç”¨äºè¦æ±‚æ¶ˆæ¯å¯é æ€§çš„ç®€å•é€šä¿¡åœºæ™¯ï¼Œä½†ç¼ºç‚¹æ˜¯æ¶ˆæ¯ä¸å…·çŠ¶æ€ï¼Œä¸”æ²¡æœ‰ ACK æœºåˆ¶ï¼Œæ— æ³•æ»¡è¶³å¤æ‚çš„é€šä¿¡éœ€æ±‚ã€‚")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://stackoverflow.com/questions/6463945/whats-the-most-efficient-node-js-inter-process-communication-library-method",target:"_blank",rel:"noopener noreferrer"}},[t._v("Redis çš„ Pub/Sub ç¤ºä¾‹"),n("OutboundLink")],1)]),t._v(" "),n("hr"),t._v(" "),n("p",[n("strong",[t._v("å‚è€ƒèµ„æ–™ï¼š")])]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://product.dangdang.com/23371791.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“š ã€Šæ·±å…¥æµ…å‡º Node.jsã€‹ï¼šç¬¬ä¹ç«  ç©è½¬è¿›ç¨‹"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://blog.csdn.net/clschen/article/details/51181246",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“ è¿›ç¨‹é—´é€šä¿¡çš„å¦ç±»å®ç°"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);
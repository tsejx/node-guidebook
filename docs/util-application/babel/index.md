---
nav:
  title: å·¥å…·åº”ç”¨
  order: 6
group:
  title: ç¼–è¯‘
  order: 1
title: Babel
order: 1
---

# Babel

Babel æ˜¯ä¸€ä¸ªå·¥å…·é“¾ï¼Œä¸»è¦ç”¨äºå°† ECMAScript 2015+ ç‰ˆæœ¬çš„ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„ JavaScript è¯­æ³•ï¼Œä»¥ä¾¿èƒ½å¤Ÿè¿è¡Œåœ¨å½“å‰å’Œæ—§ç‰ˆæœ¬çš„æµè§ˆå™¨æˆ–å…¶ä»–ç¯å¢ƒä¸­ã€‚ä¸‹é¢åˆ—å‡ºçš„æ˜¯ Babel èƒ½ä¸ºä½ åšçš„äº‹æƒ…ï¼š

- è¯­æ³•è½¬æ¢
- é€šè¿‡ Polyfill æ–¹å¼åœ¨ç›®æ ‡ç¯å¢ƒä¸­æ·»åŠ ç¼ºå¤±çš„ç‰¹æ€§ (é€šè¿‡ @babel/polyfill æ¨¡å—)
- æºç è½¬æ¢ (codemods)

Babel çš„ä¸‰ä¸ªä¸»è¦å¤„ç†æ­¥éª¤åˆ†åˆ«æ˜¯ï¼šè§£æï¼ˆParseï¼‰ã€è½¬æ¢ï¼ˆTransformï¼‰å’Œç”Ÿæˆï¼ˆGenerateï¼‰ã€‚

- è§£æï¼š
- è½¬æ¢ï¼š
- ç”Ÿæˆï¼š

## é¢„è®¾

[æ›´è¯¦å°½æœ‰å…³é¢„è®¾çš„é…ç½®é¡¹](https://www.babeljs.cn/docs/presets)

å®˜æ–¹é¢„è®¾ï¼š

- `@babel/preset-env`ï¼šä½¿ç”¨è¯¥é¢„è®¾èƒ½å…è®¸ä½ ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ JavaScript è¯­æ³•è€Œæ— é¡»è¯­æ³•è½¬æ¢
- `@babel/preset-flow`ï¼š
- `@babel/preset-react`ï¼š
- `@babel/preset-typescript`ï¼š

å®éªŒæ€§è´¨çš„é¢„è®¾ï¼šstage-x preset ä¸­ä»»ä½•è¯­æ³•è½¬æ¢éƒ½æ˜¯å¯¹è¯­è¨€æœ¬èº«çš„æ›´æ”¹ï¼Œè€Œè¿™äº›æ›´æ”¹å°šæœªè¢«çº³å…¥ JavaScript æ ‡å‡†

[TC39] å°†ææ¡ˆåˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š

- [Stage 0] - è®¾æƒ³ï¼ˆStrawmanï¼‰ï¼šåªæ˜¯ä¸€ä¸ªæƒ³æ³•ï¼Œå¯èƒ½æœ‰ Babel æ’ä»¶ã€‚
- [Stage 1] - å»ºè®®ï¼ˆProposalï¼‰ï¼šè¿™æ˜¯å€¼å¾—è·Ÿè¿›çš„ã€‚
- [Stage 2] - è‰æ¡ˆï¼ˆDraftï¼‰ï¼šåˆå§‹è§„èŒƒã€‚
- [Stage 3] - å€™é€‰ï¼ˆCandidateï¼‰ï¼šå®Œæˆè§„èŒƒå¹¶åœ¨æµè§ˆå™¨ä¸Šåˆæ­¥å®ç°ã€‚
- [Stage 4] - å®Œæˆï¼ˆFinishedï¼‰ï¼šå°†æ·»åŠ åˆ°ä¸‹ä¸€ä¸ªå¹´åº¦ç‰ˆæœ¬å‘å¸ƒä¸­ã€‚

```json
{
  "presets": [
    [
      "es2015",
      {
        "modules": false
      }
    ],
    "stage-2"
  ]
}
```

## æ’ä»¶

Babel æ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ï¼ˆè¾“å…¥æºç  => è¾“å‡ºç¼–è¯‘åçš„ä»£ç ï¼‰ã€‚å°±åƒå…¶ä»–ç¼–è¯‘å™¨ä¸€æ ·ï¼Œç¼–è¯‘è¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼šè§£æã€è½¬æ¢å’Œæ‰“å°è¾“å‡ºã€‚

ç°åœ¨ï¼ŒBabel è™½ç„¶å¼€ç®±å³ç”¨ï¼Œä½†æ˜¯ä»€ä¹ˆåŠ¨ä½œéƒ½ä¸åšã€‚å®ƒåŸºæœ¬ä¸Šç±»ä¼¼äº `const babel = code => code;`ï¼Œå°†ä»£ç è§£æä¹‹åå†è¾“å‡ºåŒæ ·çš„ä»£ç ã€‚å¦‚æœæƒ³è¦ Babel åšä¸€äº›å®é™…çš„å·¥ä½œï¼Œå°±éœ€è¦ä¸ºå…¶æ·»åŠ æ’ä»¶ã€‚

é™¤äº†ä¸€ä¸ªä¸€ä¸ªçš„æ·»åŠ æ’ä»¶ï¼Œä½ è¿˜å¯ä»¥ä»¥ `preset` çš„å½¢å¼å¯ç”¨ä¸€ç»„æ’ä»¶ã€‚

åœ¨ [Babel è½¬æ¢æ’ä»¶](https://www.babeljs.cn/docs/plugins#%E8%BD%AC%E6%8D%A2%E6%8F%92%E4%BB%B6) è¿™é‡Œå¯ä»¥çœ‹åˆ°æ’ä»¶åˆ—è¡¨ã€‚

### æ’ä»¶é¡ºåº

è¿™æ„å‘³ç€å¦‚æœä¸¤ä¸ªè½¬æ¢æ’ä»¶éƒ½å°†å¤„ç† **ç¨‹åºï¼ˆProgramï¼‰** çš„æŸä¸ªä»£ç ç‰‡æ®µï¼Œåˆ™å°†æ ¹æ®è½¬æ¢æ’ä»¶æˆ– preset çš„æ’åˆ—é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚

- æ’ä»¶åœ¨ Presets å‰è¿è¡Œã€‚
- æ’ä»¶é¡ºåºä»å‰å¾€åæ’åˆ—ã€‚
- Preset é¡ºåºæ˜¯é¢ å€’çš„ï¼ˆä»åå¾€å‰ï¼‰ã€‚

ä¾‹å¦‚ï¼š

```json
{
  "plugins": ["transform-decorators-legacy", "transform-class-properties"]
}
```

å…ˆæ‰§è¡Œ `transform-decorators-legacy`ï¼Œå†æ‰§è¡Œ `transform-class-properties`ã€‚

é‡è¦çš„æ—¶ï¼Œpreset çš„é¡ºåºæ˜¯ é¢ å€’çš„ã€‚å¦‚ä¸‹è®¾ç½®ï¼š

```json
{
  "presets": ["es2015", "react", "stage-2"]
}
```

## æ¨¡å—ä»‹ç»

### babel-core

### babel-cli

### babel-node

### babel-register

### babel-polyfill

`babel-polyfill` åœ¨ä»£ç ä¸­çš„ä½œç”¨ä¸»è¦æ˜¯ç”¨å·²ç»å­˜åœ¨çš„è¯­æ³•å’Œ API å®ç°ä¸€äº›æµè§ˆå™¨è¿˜æ²¡æœ‰å®ç°çš„ APIã€å¯¹æµè§ˆå™¨çš„ä¸€äº›ç¼ºé™·åšä¸€äº›ä¿®è¡¥ã€‚ä¾‹å¦‚ Array æ–°å¢äº† `includes` æ–¹æ³•ï¼Œæˆ‘æƒ³ä½¿ç”¨ï¼Œä½†æ˜¯ä½ç‰ˆæœ¬çš„æµè§ˆå™¨æ²¡æœ‰ï¼Œå¼•å…¥ `babel-polyfill` åˆ™å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

## é…ç½®æ–‡ä»¶

.babelrc

---

**å‚è€ƒèµ„æ–™ï¼š**

- [ğŸ“– Babel ä¸­æ–‡ç½‘](https://www.babeljs.cn/)
- [ğŸ“– Babel æ‰‹å†Œï¼šç”¨æˆ·æ‰‹å†Œ - å¦‚ä½•å®‰è£… / é…ç½® Babel åŠç›¸å…³å†…å®¹ - ä¸­æ–‡ç¿»è¯‘ç‰ˆ](https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/user-handbook.md)
- [ğŸ“– Babel æ‰‹å†Œï¼šæ’ä»¶æ‰‹å†Œ - å¦‚ä½•ä¸º Babel åˆ›å»ºæ’ä»¶ - ä¸­æ–‡ç¿»è¯‘ç‰ˆ](https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md)

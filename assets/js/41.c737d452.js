(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{260:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"commonjs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs"}},[t._v("#")]),t._v(" CommonJS")]),t._v(" "),a("p",[t._v("Node åº”ç”¨ç”±æ¨¡å—ç»„æˆï¼Œé‡‡ç”¨ CommonJS æ¨¡å—è§„èŒƒã€‚")]),t._v(" "),a("p",[t._v("æ¯ä¸ªæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œæœ‰è‡ªå·±çš„ä½œç”¨åŸŸã€‚åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å®šä¹‰çš„å˜é‡ã€å‡½æ•°ã€ç±»ï¼Œéƒ½æ˜¯ç§æœ‰çš„ï¼Œå¯¹å…¶ä»–æ–‡ä»¶ä¸å¯è§ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœæƒ³åœ¨å¤šä¸ªæ–‡ä»¶åˆ†äº«å˜é‡ï¼Œå¿…é¡»å®šä¹‰ä¸º "),a("code",[t._v("global")]),t._v(" å¯¹è±¡çš„å±æ€§ã€‚")]),t._v(" "),a("p",[t._v("CommonJS è§„èŒƒè§„å®šï¼Œæ¯ä¸ªæ¨¡å—å†…éƒ¨ï¼Œ"),a("code",[t._v("module")]),t._v(" å˜é‡ä»£è¡¨å½“å‰æ¨¡å—ã€‚è¿™ä¸ªå˜é‡æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„ "),a("code",[t._v("exports")]),t._v(" å±æ€§ï¼ˆå³ "),a("code",[t._v("module.exports")]),t._v("ï¼‰æ˜¯å¯¹å¤–çš„æ¥å£ã€‚åŠ è½½æŸä¸ªæ¨¡å—ï¼Œå…¶å®æ˜¯åŠ è½½è¯¥æ¨¡å—çš„ "),a("code",[t._v("module.exports")]),t._v(" å±æ€§ã€‚")]),t._v(" "),a("p",[t._v("CommonJS æ¨¡å—çš„ç‰¹ç‚¹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ‰€æœ‰ä»£ç éƒ½è¿è¡Œåœ¨æ¨¡å—ä½œç”¨åŸŸï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸ")]),t._v(" "),a("li",[t._v("æ¨¡å—å¯ä»¥å¤šæ¬¡åŠ è½½ï¼Œä½†æ˜¯åªä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶è¿è¡Œä¸€æ¬¡ï¼Œç„¶åè¿è¡Œç»“æœå°±è¢«ç¼“å­˜äº†ï¼Œä»¥åå†åŠ è½½ï¼Œå°±ç›´æ¥è¯»å–ç¼“å­˜ç»“æœã€‚è¦æƒ³è®©æ¨¡å—å†æ¬¡è¿è¡Œï¼Œå¿…é¡»æ¸…é™¤ç¼“å­˜")]),t._v(" "),a("li",[t._v("æ¨¡å—åŠ è½½çš„é¡ºåºï¼ŒæŒ‰ç…§å…¶åœ¨ä»£ç ä¸­å‡ºç°çš„é¡ºåº")])]),t._v(" "),a("h2",{attrs:{id:"module"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module"}},[t._v("#")]),t._v(" module")]),t._v(" "),a("p",[t._v("Node å†…éƒ¨æä¾›ä¸€ä¸ª Module æ„å»ºå‡½æ•°ã€‚æ‰€æœ‰æ¨¡å—éƒ½æ˜¯ Module çš„å®ä¾‹ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Module")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" parent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ¯ä¸ªæ¨¡å—å†…éƒ¨ï¼Œéƒ½æœ‰ä¸€ä¸ª "),a("code",[t._v("module")]),t._v(" å¯¹è±¡ï¼Œä»£è¡¨å½“å‰æ¨¡å—ã€‚å®ƒæœ‰ä»¥ä¸‹å±æ€§ã€‚")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("module.id")]),t._v("ï¼šæ¨¡å—çš„è¯†åˆ«ç¬¦ï¼Œé€šå¸¸æ˜¯å¸¦æœ‰ç»å¯¹è·¯å¾„çš„æ¨¡å—æ–‡ä»¶å")]),t._v(" "),a("li",[a("code",[t._v("module.filename")]),t._v("ï¼šæ¨¡å—çš„æ–‡ä»¶åï¼Œå¸¦æœ‰ç»å¯¹è·¯å¾„")]),t._v(" "),a("li",[a("code",[t._v("module.loaded")]),t._v("ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ¨¡å—æ˜¯å¦å·²ç»å®ŒæˆåŠ è½½")]),t._v(" "),a("li",[a("code",[t._v("module.parent")]),t._v("ï¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¡¨ç¤ºè°ƒç”¨è¯¥æ¨¡å—çš„æ¨¡å—")]),t._v(" "),a("li",[a("code",[t._v("module.children")]),t._v("ï¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºè¯¥æ¨¡å—è¦ç”¨åˆ°çš„å…¶ä»–æ¨¡å—")]),t._v(" "),a("li",[a("code",[t._v("module.exports")]),t._v("ï¼šè¡¨ç¤ºæ¨¡å—å¯¹å¤–è¾“å‡ºçš„å€¼")])]),t._v(" "),a("p",[t._v("ğŸŒ° "),a("strong",[t._v("ç¤ºä¾‹ï¼š")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" jquery "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jquery'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" jquery"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("æ‰§è¡Œè¯¥æ–‡ä»¶ï¼Œå‘½ä»¤è¡Œä¼šè¾“å‡ºå¦‚ä¸‹ä¿¡æ¯ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  exports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'$'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Function"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  parent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/example.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  loaded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  children"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/node_modules/jquery/dist/jquery.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       exports"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Function"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       parent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Circular"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path/to/node_modules/jquery/dist/jquery.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       loaded"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       children"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       paths"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  paths"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home/user/deleted/node_modules'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home/user/node_modules'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home/node_modules'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/node_modules'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("è‹¥åœ¨å‘½ä»¤è¡Œä¸‹è°ƒç”¨è¯¥æ¨¡å—ï¼Œæ¯”å¦‚ "),a("code",[t._v("node index.js")]),t._v("ï¼Œåˆ™ "),a("code",[t._v("module.parent")]),t._v(" ä¸º "),a("code",[t._v("null")]),t._v("ã€‚")]),t._v(" "),a("li",[t._v("è‹¥åœ¨è„šæœ¬ä¹‹ä¸­è°ƒç”¨ï¼Œæ¯”å¦‚ "),a("code",[t._v("require('./index.js)")]),t._v("ï¼Œåˆ™ "),a("code",[t._v("module.parent")]),t._v(" å°±æ˜¯è°ƒç”¨å®ƒçš„æ¨¡å—ã€‚")])]),t._v(" "),a("p",[t._v("åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œå¯ä»¥åˆ¤æ–­å½“å‰æ¨¡å—æ˜¯å¦ä¸ºå…¥å£è„šæœ¬ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ran with `node index.js`")]),t._v("\n  app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8080")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'app listening on port 8080'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// used with `require('./index.js')`")]),t._v("\n  module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"module-exports-å±æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#module-exports-å±æ€§"}},[t._v("#")]),t._v(" module.exports å±æ€§")]),t._v(" "),a("p",[a("code",[t._v("module.exports")]),t._v(" å±æ€§è¡¨ç¤ºå½“å‰æ¨¡å—å¯¹å¤–è¾“å‡ºçš„æ¥å£ï¼Œå…¶ä»–æ–‡ä»¶åŠ è½½è¯¥æ¨¡å—ï¼Œå®é™…ä¸Šå°±æ˜¯è¯»å– "),a("code",[t._v("module.exports")]),t._v(" å˜é‡ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" EventEmitter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'events'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("EventEmitter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EventEmitter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ready'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ä¸Šè¿°æ¨¡å—ä¼šåœ¨åŠ è½½å 1 ç§’åï¼Œå‘å‡º ready äº‹ä»¶ã€‚å…¶ä»–æ–‡ä»¶ç›‘å¬è¯¥äº‹ä»¶ï¼Œå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" foo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./foo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfoo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ready'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'module foo is ready'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"exports-å˜é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exports-å˜é‡"}},[t._v("#")]),t._v(" exports å˜é‡")]),t._v(" "),a("p",[t._v("ä¸ºäº†æ–¹ä¾¿ï¼ŒNode ä¸ºæ¯ä¸ªæ¨¡å—æä¾›äº†ä¸€ä¸ª exports å˜é‡ï¼ŒæŒ‡å‘ "),a("code",[t._v("module.exports")]),t._v("ã€‚è¿™ç­‰åŒåœ¨æ¯ä¸ªæ¨¡å—å¤´éƒ¨ï¼Œæœ‰è¿™æ ·ä¸€è¡Œå‘½ä»¤ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å› æ­¤ï¼Œåœ¨å¯¹å¤–è¾“å‡ºæ¨¡å—æ¥å£æ—¶ï¼Œå¯ä»¥åƒ exports å¯¹è±¡æ·»åŠ æ–¹æ³•ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("area")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("r")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PI")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" r "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("circumference")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("r")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PI")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" r"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("æ³¨æ„ï¼Œä¸èƒ½å°† exports å˜é‡ç›´æ¥æŒ‡å‘ä¸€ä¸ªå€¼ï¼Œå› ä¸ºè¿™æ ·ç­‰äºæ–­äº† "),a("code",[t._v("exports")]),t._v(" å’Œ "),a("code",[t._v("module.exports")]),t._v(" çš„è”ç³»ã€‚")]),t._v(" "),a("p",[t._v("ä»¥ä¸‹å†™æ³•æ˜¯æ— æ•ˆçš„ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("x")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ä¸‹é¢çš„å†™æ³•ä¹Ÿæ˜¯æ— æ•ˆçš„ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("exports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("hello")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello world!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢ä»£ç ï¼Œ"),a("code",[t._v("hello")]),t._v(" å‡½æ•°æ˜¯æ— æ³•å¯¹å¤–è¾“å‡ºçš„ï¼Œå› ä¸º "),a("code",[t._v("module.exports")]),t._v(" è¢«é‡æ–°èµ‹å€¼äº†ã€‚")]),t._v(" "),a("p",[t._v("è¿™æ„å‘³ç€ï¼Œå¦‚æœä¸€ä¸ªæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œå°±æ˜¯ä¸€ä¸ªå•ä¸€çš„å€¼ï¼Œä¸èƒ½ä½¿ç”¨ "),a("code",[t._v("exports")]),t._v(" è¾“å‡ºï¼Œåªèƒ½ä½¿ç”¨ "),a("code",[t._v("module.exports")]),t._v(" è¾“å‡ºã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœè§‰å¾— "),a("code",[t._v("exports")]),t._v(" å’Œ "),a("code",[t._v("module.exports")]),t._v(" ä¹‹é—´çš„åŒºåˆ«å¾ˆéš¾åˆ†æ¸…ï¼Œä¸€ä¸ªç®€å•çš„å¤„ç†æ–¹æ³•ï¼Œå°±æ˜¯æ”¾å¼ƒä½¿ç”¨ "),a("code",[t._v("exports")]),t._v("ï¼Œåªä½¿ç”¨ "),a("code",[t._v("module.exports")]),t._v("ã€‚")]),t._v(" "),a("h2",{attrs:{id:"require"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#require"}},[t._v("#")]),t._v(" require")]),t._v(" "),a("p",[t._v("Node ä½¿ç”¨ CommonJS æ¨¡å—è§„èŒƒï¼Œå†…ç½®çš„ "),a("code",[t._v("require")]),t._v(" å‘½ä»¤ç”¨äºåŠ è½½æ¨¡å—æ–‡ä»¶ã€‚")]),t._v(" "),a("p",[a("code",[t._v("require")]),t._v(" å‘½ä»¤çš„åŸºæœ¬åŠŸèƒ½å°±æ˜¯ï¼Œè¯»å…¥å¹¶æ‰§è¡Œä¸€ä¸ª JavaScript æ–‡ä»¶ï¼Œç„¶åè¿”å›è¯¥æ¨¡å—çš„ exports å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰å‘ç°æŒ‡å®šæ¨¡å—ï¼Œä¼šæŠ¥é”™ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// index.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("invisible")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'invisible'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hi'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("say")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å¦‚æœæ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£å°±ä¸èƒ½å®šä¹‰åœ¨ exports å¯¹è±¡ä¸Šï¼Œè€Œè¦å®šä¹‰åœ¨ "),a("code",[t._v("module.exports")]),t._v(" å˜é‡ä¸Šã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢ä»£ç ä¸­ï¼Œrequire å‘½ä»¤è°ƒç”¨è‡ªèº«ï¼Œç­‰äºæ˜¯æ‰§è¡Œ "),a("code",[t._v("module.exports")]),t._v("ï¼Œå› æ­¤ä¼šè¾“å‡º "),a("code",[t._v("hello world!")]),t._v("ã€‚")]),t._v(" "),a("h3",{attrs:{id:"åŠ è½½è§„åˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ è½½è§„åˆ™"}},[t._v("#")]),t._v(" åŠ è½½è§„åˆ™")]),t._v(" "),a("p",[a("code",[t._v("require")]),t._v(" å‘½ä»¤ç”¨äºåŠ è½½æ–‡ä»¶ï¼Œåç¼€åé»˜è®¤ä¸º "),a("code",[t._v(".js")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" foo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  ç­‰åŒäº")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" foo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("æ ¹æ®å‚æ•°çš„ä¸åŒæ ¼å¼ï¼Œ"),a("code",[t._v("require")]),t._v(" å‘½ä»¤å»ä¸åŒè·¯å¾„å¯»æ‰¾æ¨¡å—æ–‡ä»¶ã€‚")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("å¦‚æœå‚æ•°å­—ç¬¦ä¸²ä»¥ "),a("code",[t._v("/")]),t._v(" å¼€å¤´ï¼Œåˆ™è¡¨ç¤ºåŠ è½½çš„æ˜¯ä¸€ä¸ªä½äº"),a("strong",[t._v("ç»å¯¹è·¯å¾„")]),t._v("çš„æ¨¡å—æ–‡ä»¶ã€‚æ¯”å¦‚ï¼Œ"),a("code",[t._v("require('/home/marco/foo.js')")]),t._v(" å°†åŠ è½½ "),a("code",[t._v("/home/marco/foo.js")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("å¦‚æœå‚æ•°å­—ç¬¦ä¸²ä»¥ "),a("code",[t._v("./")]),t._v(" å¼€å¤´ï¼Œåˆ™è¡¨ç¤ºåŠ è½½çš„æ˜¯ä¸€ä¸ªä½äº"),a("strong",[t._v("ç›¸å¯¹è·¯å¾„")]),t._v("ï¼ˆè·Ÿå½“å‰æ‰§è¡Œè„šæœ¬çš„ä½ç½®ç›¸æ¯”ï¼‰çš„æ¨¡å—æ–‡ä»¶ã€‚æ¯”å¦‚ï¼Œ"),a("code",[t._v("require('./foo')")]),t._v(" å°†åŠ è½½å½“å‰è„šæœ¬åŒä¸€ç›®å½•çš„ "),a("code",[t._v("foo.js")]),t._v("ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("å¦‚æœå‚æ•°å­—ç¬¦ä¸²ä¸ä»¥ "),a("code",[t._v("./")]),t._v(" æˆ– "),a("code",[t._v("/")]),t._v(" å¼€å¤´ï¼Œåˆ™è¡¨ç¤ºåŠ è½½çš„æ˜¯ä¸€ä¸ª"),a("strong",[t._v("é»˜è®¤æä¾›çš„æ ¸å¿ƒæ¨¡å—")]),t._v("ï¼ˆä½äº Node çš„ç³»ç»Ÿå®‰è£…ç›®å½•ä¸­ï¼‰ï¼Œæˆ–è€…ä¸€ä¸ªä½äºå„çº§ "),a("code",[t._v("node_modules")]),t._v(" ç›®å½•çš„å·²å®‰è£…æ¨¡å—ï¼ˆå…¨å±€å®‰è£…æˆ–å±€éƒ¨å®‰è£…ï¼‰ã€‚")])])]),t._v(" "),a("p",[t._v("ä¸¾ä¾‹æ¥è¯´ï¼Œè„šæœ¬ "),a("code",[t._v("/home/user/projects/foo.js")]),t._v(" æ‰§è¡Œäº† "),a("code",[t._v("require('bar.js')")]),t._v(" å‘½ä»¤ï¼ŒNode ä¼šä¾æ¬¡æœç´¢ä»¥ä¸‹æ–‡ä»¶ï¼š")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# node å®‰è£…å…¨å±€ä¾èµ–çš„ç›®å½•")]),t._v("\n/usr/local/lib/node/bar.js\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å½“å‰æ–‡ä»¶å¤¹ä¾èµ–ç›®å½•")]),t._v("\n/home/user/projects/node_modules/bar.js\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# çˆ¶ç›®å½•ä¾èµ–ç›®å½•")]),t._v("\n/home/user/node_modules/bar.js\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# çˆ¶ç›®å½•çš„çˆ¶ç›®å½•ä¾èµ–ç›®å½•")]),t._v("\n/home/node_modules/bar.js\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ²¿è·¯å¾„å‘ä¸Šé€çº§é€’å½’ï¼Œç›´åˆ°æ ¹ç›®å½•ä¸‹çš„ä¾èµ–ç›®å½•")]),t._v("\n/node_modules/bar.js\n")])])]),a("p",[t._v("è¿™ç§è·¯å¾„çš„ç”Ÿæˆæ–¹å¼ä¸ JavaScript çš„åŸå‹é“¾æˆ–ä½œç”¨åŸŸçš„æŸ¥æ‰¾æ–¹å¼ååˆ†ç±»ä¼¼ã€‚åœ¨åŠ è½½çš„è¿‡ç¨‹ä¸­ï¼ŒNode ä¼šé€ä¸ªå°è¯•æ¨¡å—è·¯å¾„ä¸­çš„è·¯å¾„ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡æ–‡ä»¶ä¸ºæ­¢ã€‚å¯ä»¥çœ‹å‡ºï¼Œå½“å‰æ–‡ä»¶çš„è·¯å¾„è¶Šæ·±ï¼Œæ¨¡å—æŸ¥æ‰¾è€—æ—¶ä¼šè¶Šå¤šï¼Œè¿™æ˜¯è‡ªå®šä¹‰æ¨¡å—çš„åŠ è½½é€Ÿåº¦æ˜¯æœ€æ…¢çš„åŸå› ã€‚")]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[t._v("å¦‚æœå‚æ•°å­—ç¬¦ä¸²ä¸ä»¥ "),a("code",[t._v("./")]),t._v(" æˆ– "),a("code",[t._v("/")]),t._v(" å¼€å¤´ï¼Œè€Œä¸”æ˜¯ä¸€ä¸ªè·¯å¾„ï¼Œæ¯”å¦‚ "),a("code",[t._v("require('example/path/to/file')")]),t._v("ï¼Œåˆ™å°†å…ˆæ‰¾åˆ° "),a("code",[t._v("example")]),t._v(" çš„ä½ç½®ï¼Œç„¶åå†ä»¥å®ƒä¸ºå‚æ•°ï¼Œæ‰¾åˆ°åç»­è·¯å¾„ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("å¦‚æœæŒ‡å®šçš„æ¨¡å—æ–‡ä»¶æ²¡æœ‰å‘ç°ï¼ŒNode ä¼šå°è¯•ä¸ºæ–‡ä»¶åæ·»åŠ  "),a("code",[t._v(".js")]),t._v("ã€"),a("code",[t._v(".json")]),t._v("ã€"),a("code",[t._v(".node")]),t._v(" åï¼Œå†å»æœç´¢ã€‚"),a("code",[t._v(".js")]),t._v(" ä»¶ä¼šä»¥æ–‡æœ¬æ ¼å¼çš„ JavaScript è„šæœ¬æ–‡ä»¶è§£æï¼Œ"),a("code",[t._v(".json")]),t._v(" æ–‡ä»¶ä¼šä»¥ JSON æ ¼å¼çš„æ–‡æœ¬æ–‡ä»¶è§£æï¼Œ"),a("code",[t._v(".node")]),t._v(" æ–‡ä»¶ä¼šä»¥ç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶è§£æã€‚")])]),t._v(" "),a("li",[a("p",[t._v("å¦‚æœæƒ³å¾—åˆ° require å‘½ä»¤åŠ è½½çš„ç¡®åˆ‡æ–‡ä»¶åï¼Œä½¿ç”¨ "),a("code",[t._v("require.resolve()")]),t._v(" æ–¹æ³•ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("å¦‚æœå‚æ•°å­—ç¬¦ä¸²ä¸ºç›®å½•çš„è·¯å¾„ï¼Œåˆ™è‡ªåŠ¨æŸ¥æ‰¾è¯¥æ–‡ä»¶å¤¹ä¸‹çš„ "),a("code",[t._v("package.json")]),t._v(" æ–‡ä»¶ï¼Œç„¶åå†åŠ è½½è¯¥æ–‡ä»¶å½“ä¸­ main å­—æ®µæ‰€æŒ‡å®šçš„å…¥å£æ–‡ä»¶ï¼ˆè‹¥æ²¡æœ‰ "),a("code",[t._v("package.json")]),t._v(" æ–‡ä»¶æˆ–è¯¥æ–‡ä»¶ä¸­æ—  main å­—æ®µï¼Œåˆ™é»˜è®¤æŸ¥æ‰¾è¯¥æ–‡ä»¶å¤¹ä¸‹çš„ "),a("code",[t._v("index.js")]),t._v(" æ–‡ä»¶ä½œä¸ºæ¨¡å—æ¥è½½å…¥ï¼‰")])])]),t._v(" "),a("p",[t._v("âš ï¸ æ³¨æ„ï¼šNode çš„ç³»ç»Ÿæ¨¡å—çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œä¸€æ—¦æœ‰ç¬¬ä¸‰æ–¹æ¨¡å—åŒ…ä¸æ ¸å¿ƒæ¨¡å—é‡åï¼Œåˆ™ä»¥æ ¸å¿ƒæ¨¡å—ä¸ºå‡†")]),t._v(" "),a("h3",{attrs:{id:"ç›®å½•çš„åŠ è½½è§„åˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®å½•çš„åŠ è½½è§„åˆ™"}},[t._v("#")]),t._v(" ç›®å½•çš„åŠ è½½è§„åˆ™")]),t._v(" "),a("p",[t._v("é€šå¸¸ï¼Œæˆ‘ä»¬ä¼šæŠŠç›¸å…³çš„æ–‡ä»¶ä¼šæ”¾åœ¨ä¸€ä¸ªç›®å½•é‡Œé¢ï¼Œä¾¿äºç»„ç»‡ã€‚è¿™æ—¶ï¼Œæœ€å¥½ä¸ºè¯¥ç›®å½•è®¾ç½®ä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œè®© "),a("code",[t._v("require")]),t._v(" æ–¹æ³•å¯ä»¥é€šè¿‡è¿™ä¸ªå…¥å£æ–‡ä»¶ï¼ŒåŠ è½½æ•´ä¸ªç›®å½•ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ç›®å½•ä¸­æ”¾ç½®ä¸€ä¸ª "),a("code",[t._v("package.json")]),t._v(" æ–‡ä»¶ï¼Œå¹¶ä¸”å°†å…¥å£æ–‡ä»¶å†™å…¥ "),a("code",[t._v("main")]),t._v(" å­—æ®µã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some-library"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./lib/some-library.js"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("code",[t._v("require")]),t._v(" å‘ç°å‚æ•°å­—ç¬¦ä¸²æŒ‡å‘ä¸€ä¸ªç›®å½•ä»¥åï¼Œä¼šè‡ªåŠ¨æŸ¥çœ‹è¯¥ç›®å½•çš„ "),a("code",[t._v("package.json")]),t._v(" æ–‡ä»¶ï¼Œç„¶ååŠ è½½ "),a("code",[t._v("main")]),t._v(" å­—æ®µæŒ‡å®šçš„å…¥å£æ–‡ä»¶ã€‚å¦‚æœ "),a("code",[t._v("package.json")]),t._v(" æ–‡ä»¶æ²¡æœ‰ "),a("code",[t._v("main")]),t._v(" å­—æ®µï¼Œæˆ–è€…æ ¹æœ¬å°±æ²¡æœ‰ "),a("code",[t._v("package.json")]),t._v(" æ–‡ä»¶ï¼Œåˆ™ä¼šåŠ è½½è¯¥ç›®å½•ä¸‹çš„ "),a("code",[t._v("index.js")]),t._v(" æ–‡ä»¶æˆ– "),a("code",[t._v("index.node")]),t._v(" æ–‡ä»¶ã€‚")]),t._v(" "),a("h3",{attrs:{id:"æ¨¡å—çš„ç¼“å­˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—çš„ç¼“å­˜"}},[t._v("#")]),t._v(" æ¨¡å—çš„ç¼“å­˜")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€æ¬¡åŠ è½½æŸä¸ªæ¨¡å—æ—¶ï¼ŒNode ä¼šç¼“å­˜è¯¥æ¨¡å—ã€‚ä»¥åå†åŠ è½½è¯¥æ¨¡å—ï¼Œå°±ç›´æ¥ä»ç¼“å­˜å–å‡ºè¯¥æ¨¡å—çš„ "),a("code",[t._v("module.exports")]),t._v(" å±æ€§ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./example.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./example.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./example.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "hello"')]),t._v("\n")])])]),a("p",[t._v("ä¸Šé¢ä»£ç ä¸­ï¼Œè¿ç»­ä¸‰æ¬¡ä½¿ç”¨ "),a("code",[t._v("require")]),t._v(" å‘½ä»¤ï¼ŒåŠ è½½åŒä¸€ä¸ªæ¨¡å—ã€‚ç¬¬äºŒæ¬¡åŠ è½½çš„æ—¶å€™ï¼Œä¸ºè¾“å‡ºçš„å¯¹è±¡æ·»åŠ äº†ä¸€ä¸ª "),a("code",[t._v("message")]),t._v(" å±æ€§ã€‚ä½†æ˜¯ç¬¬ä¸‰æ¬¡åŠ è½½çš„æ—¶å€™ï¼Œè¿™ä¸ª "),a("code",[t._v("message")]),t._v(" å±æ€§ä¾ç„¶å­˜åœ¨ï¼Œè¿™å°±è¯æ˜ "),a("code",[t._v("require")]),t._v(" å‘½ä»¤å¹¶æ²¡æœ‰é‡æ–°åŠ è½½æ¨¡å—æ–‡ä»¶ï¼Œè€Œæ˜¯è¾“å‡ºäº†ç¼“å­˜ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœæƒ³è¦å¤šæ¬¡æ‰§è¡ŒæŸä¸ªæ¨¡å—ï¼Œå¯ä»¥è®©è¯¥æ¨¡å—è¾“å‡ºä¸€ä¸ª"),a("strong",[t._v("å‡½æ•°")]),t._v("ï¼Œç„¶åæ¯æ¬¡ "),a("code",[t._v("require")]),t._v(" è¿™ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œé‡æ–°æ‰§è¡Œä¸€ä¸‹è¾“å‡ºçš„å‡½æ•°ã€‚")]),t._v(" "),a("p",[t._v("æ‰€æœ‰ç¼“å­˜çš„æ¨¡å—ä¿å­˜åœ¨ "),a("code",[t._v("require.cache")]),t._v(" ä¹‹ä¸­ï¼Œå¦‚æœæƒ³åˆ é™¤æ¨¡å—çš„ç¼“å­˜ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤æŒ‡å®šæ¨¡å—çš„ç¼“å­˜")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("moduleName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ é™¤æ‰€æœ‰æ¨¡å—çš„ç¼“å­˜")]),t._v("\nObject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("æ³¨æ„ï¼Œç¼“å­˜æ˜¯æ ¹æ®"),a("strong",[t._v("ç»å¯¹è·¯å¾„")]),t._v("è¯†åˆ«æ¨¡å—çš„ï¼Œå¦‚æœåŒæ ·çš„æ¨¡å—åï¼Œä½†æ˜¯ä¿å­˜åœ¨ä¸åŒçš„è·¯å¾„ï¼Œ"),a("code",[t._v("require")]),t._v(" å‘½ä»¤è¿˜æ˜¯ä¼šé‡æ–°åŠ è½½è¯¥æ¨¡å—ã€‚")]),t._v(" "),a("h3",{attrs:{id:"æ¨¡å—çš„å¾ªç¯åŠ è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—çš„å¾ªç¯åŠ è½½"}},[t._v("#")]),t._v(" æ¨¡å—çš„å¾ªç¯åŠ è½½")]),t._v(" "),a("p",[t._v("å¦‚æœå‘ç”Ÿæ¨¡å—çš„å¾ªç¯åŠ è½½ï¼Œå³ "),a("code",[t._v("foo")]),t._v(" åŠ è½½ "),a("code",[t._v("bar")]),t._v("ï¼Œ"),a("code",[t._v("bar")]),t._v(" åˆåŠ è½½ "),a("code",[t._v("foo")]),t._v("ï¼Œåˆ™ "),a("code",[t._v("bar")]),t._v(" å°†åŠ è½½ "),a("code",[t._v("foo")]),t._v(" çš„ä¸å®Œæ•´ç‰ˆæœ¬ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// foo.js")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo start'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bar "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./bar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åœ¨ foo ä¸­ï¼Œbar.done = %j'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo end'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// bar.js")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar start'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" foo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./foo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åœ¨ bar ä¸­ï¼Œfoo.done = %j'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" foo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nexports"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar end'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'main start'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" foo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./foo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bar "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./bar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'åœ¨ main ä¸­ï¼Œfoo.done=%jï¼Œbar.done=%j'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" foo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" bar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("done"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å½“ "),a("code",[t._v("main.js")]),t._v(" åŠ è½½ "),a("code",[t._v("foo.js")]),t._v(" æ—¶ï¼Œ"),a("code",[t._v("foo.js")]),t._v(" åˆåŠ è½½ "),a("code",[t._v("bar.js")]),t._v("ã€‚ æ­¤æ—¶ï¼Œ"),a("code",[t._v("bar.js")]),t._v(" ä¼šå°è¯•å»åŠ è½½ "),a("code",[t._v("foo.js")]),t._v("ã€‚ ä¸ºäº†é˜²æ­¢æ— é™çš„å¾ªç¯ï¼Œä¼šè¿”å›ä¸€ä¸ª "),a("code",[t._v("foo.js")]),t._v(" çš„ exports å¯¹è±¡çš„ æœªå®Œæˆçš„å‰¯æœ¬ç»™ "),a("code",[t._v("bar.js")]),t._v(" æ¨¡å—ã€‚ ç„¶å "),a("code",[t._v("bar.js")]),t._v(" å®ŒæˆåŠ è½½ï¼Œå¹¶å°† exports å¯¹è±¡æä¾›ç»™ "),a("code",[t._v("foo.js")]),t._v(" æ¨¡å—ã€‚")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ node main.js\nmain start\nfoo start\nbar start\nåœ¨ bar ä¸­ï¼Œa.done "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\nbar ç»“æŸ\nåœ¨ foo ä¸­ï¼Œb.done "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\nfoo ç»“æŸ\nåœ¨ main ä¸­ï¼Œa.done"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("trueï¼Œb.done"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n")])])]),a("h3",{attrs:{id:"require-main"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#require-main"}},[t._v("#")]),t._v(" require.main")]),t._v(" "),a("p",[a("code",[t._v("require")]),t._v(" æ–¹æ³•æœ‰ä¸€ä¸ª "),a("code",[t._v("main")]),t._v(" å±æ€§ï¼Œå¯ä»¥ç”¨æ¥åˆ¤æ–­æ¨¡å—æ˜¯ç›´æ¥æ‰§è¡Œï¼Œè¿˜æ˜¯è¢«è°ƒç”¨æ‰§è¡Œã€‚")]),t._v(" "),a("p",[t._v("ç›´æ¥æ‰§è¡Œçš„æ—¶å€™ï¼ˆ"),a("code",[t._v("node module.js")]),t._v("ï¼‰ï¼Œ"),a("code",[t._v("require.main")]),t._v(" å±æ€§æŒ‡å‘æ¨¡å—æœ¬èº«ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("main "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),a("p",[t._v("è°ƒç”¨æ‰§è¡Œçš„æ—¶å€™ï¼ˆé€šè¿‡ "),a("code",[t._v("require")]),t._v(" åŠ è½½è¯¥è„šæœ¬æ‰§è¡Œï¼‰ï¼Œä¸Šé¢çš„è¡¨è¾¾å¼è¿”å› "),a("code",[t._v("false")]),t._v("ã€‚")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v("å‚è€ƒèµ„æ–™ï¼š")])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://wiki.commonjs.org/wiki/CommonJS",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ“– Wikiï¼šCommonJS"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);